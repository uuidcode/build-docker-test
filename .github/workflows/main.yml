name: my first workflow              # workflow 이름
on: push                             # event trigger on push

jobs:
  build:                             # job id
    name: Hello world action         # job 이름
    runs-on: ubuntu-latest           # 가상 환경
    steps:
      - name: checkout source code     # step 01 이름
        uses: uuidcode/build-docker-test@master  # 소스코드 checkout

      - name: Build the Docker image
        run: docker build . -f Dockerfile-api -t docker.pkg.github.com/uuidcode/build-docker-test/api:latest

      - name: login
        run: docker login docker.pkg.github.com -u uuidcode -p 793ebb664ff90318b237cca2df6eeb1c988ca28c

      - name: push
        run: docker push docker.pkg.github.com/uuidcode/build-docker-test/api:latest
